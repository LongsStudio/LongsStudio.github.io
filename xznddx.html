<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
  <title>985Â·211 è£è€€é—ªå‡º | ç»ˆææ¸…åŒ—</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: radial-gradient(circle at 30% 10%, #0b1a2e, #030812);
      font-family: 'Segoe UI', 'Poppins', 'Inter', system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .glass-card {
      background: rgba(10, 25, 40, 0.65);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 215, 0, 0.25);
      border-radius: 56px;
      padding: 40px 30px;
      width: 100%;
      max-width: 900px;
      box-shadow: 0 30px 50px rgba(0,0,0,0.7), 0 0 0 2px rgba(255,215,0,0.1) inset;
      transition: border 0.3s;
    }

    h1 {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-weight: 500;
      letter-spacing: 2px;
      color: #f0e6c5;
      text-shadow: 0 0 8px #ffb347, 0 0 20px #aa6f1e;
      margin-bottom: 30px;
    }

    .title-main {
      font-size: 2.2rem;
      font-weight: 700;
      background: linear-gradient(135deg, #ffe6a0, #ffcd7e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: none;
      margin-bottom: 6px;
    }

    .title-sub {
      font-size: 1rem;
      color: #b6d0e0;
      background: rgba(0,0,0,0.4);
      padding: 6px 18px;
      border-radius: 40px;
      border: 1px solid #f1c40f80;
      backdrop-filter: blur(4px);
    }

    /* å¤§å­¦å·¨å¹…é—ªå‡ºåŒºåŸŸ */
    .univ-stage {
      background: rgba(0, 15, 25, 0.7);
      border-radius: 48px;
      padding: 35px 20px;
      margin-bottom: 30px;
      border: 2px solid #ffd96660;
      box-shadow: 0 0 30px #ffbf0040, inset 0 0 20px #00000060;
      transition: 0.2s;
    }

    .univ-name {
      font-size: clamp(3.2rem, 15vw, 5.8rem);
      font-weight: 900;
      text-align: center;
      color: #fff9e6;
      letter-spacing: 6px;
      word-break: break-word;
      line-height: 1.2;
      text-shadow: 0 0 12px #ffe270, 0 0 30px #ffb300, 0 0 60px #b37400;
      padding: 10px 0;
      transition: all 0.2s;
      background: transparent;
    }

    /* é—ªç°é—ªå…‰åŠ¨ç”» â€”â€” åŠ å¿«è‡³0.25sï¼ŒåŒ¹é…é«˜é€Ÿé—ªç° */
    .flash {
      animation: brilliantFlash 0.25s ease-out;
    }

    @keyframes brilliantFlash {
      0% {
        background: rgba(255, 235, 120, 0.3);
        box-shadow: 0 0 50px #ffd966, 0 0 100px #ffb347;
        text-shadow: 0 0 30px white, 0 0 60px #ffcc00;
        color: #fffbe3;
        transform: scale(1.02);
      }
      70% {
        background: rgba(255, 200, 50, 0.1);
        box-shadow: 0 0 30px #f1c40f, 0 0 70px #e67e22;
        text-shadow: 0 0 25px #ffe08c;
      }
      100% {
        background: transparent;
        box-shadow: 0 0 20px #ffbf0040, inset 0 0 20px #00000060;
        text-shadow: 0 0 12px #ffe270, 0 0 30px #ffb300;
        transform: scale(1);
      }
    }

    /* æœ€ç»ˆè£è€€ â€”â€” åŒ—äº¬å¤§å­¦ æˆ– æ¸…åå¤§å­¦ ä¸“å±çš‡å®¤é£æ ¼ */
    .final {
      color: #ffd966 !important;
      text-shadow: 0 0 25px #ffaa33, 0 0 70px #ff7700, 0 0 120px #ff5500 !important;
      border-bottom: 4px double #ffd700;
      border-top: 4px double #ffd700;
      border-radius: 30px;
      background: linear-gradient(145deg, #1a2c3c, #0e1a26);
      padding: 15px 5px;
      transform: scale(1.02);
      letter-spacing: 12px;
      transition: 0.3s;
      animation: finalGlow 1.8s infinite alternate;
    }

    @keyframes finalGlow {
      0% { border-color: #ffcc80; box-shadow: 0 0 40px #ffb347, 0 0 80px #ff8c00; }
      100% { border-color: #fff5c1; box-shadow: 0 0 70px #ffe68f, 0 0 140px #ffaa33; }
    }

    /* è¿›åº¦ & è®¡æ•°å™¨ */
    .progress-area {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #c7e0f0;
      background: rgba(0,0,0,0.35);
      padding: 16px 28px;
      border-radius: 50px;
      margin: 10px 0 30px;
      border: 1px solid #ffc85740;
      font-size: 1.2rem;
      font-weight: 500;
      backdrop-filter: blur(8px);
      flex-wrap: wrap;
    }

    .progress-text {
      background: #001d2f;
      padding: 8px 22px;
      border-radius: 40px;
      letter-spacing: 2px;
      box-shadow: inset 0 2px 5px #0000005e, 0 4px 6px #00000030;
      color: #ffdb8e;
    }

    .univ-badge {
      display: flex;
      gap: 12px;
    }

    .badge-985, .badge-211 {
      background: linear-gradient(145deg, #a77b1e, #7e5d1a);
      padding: 6px 20px;
      border-radius: 30px;
      color: #fff6d5;
      font-weight: 600;
      font-size: 0.9rem;
      border: 1px solid #ffd966;
      box-shadow: 0 0 8px #f39c12;
    }

    /* é‡ç½®æŒ‰é’® é—ªé—ªæƒ¹äººçˆ± */
    .btn-flash {
      background: radial-gradient(circle at 30% 10%, #ffd966, #e6b422);
      border: none;
      border-radius: 60px;
      padding: 16px 40px;
      color: #0a1c28;
      font-weight: 800;
      font-size: 1.4rem;
      letter-spacing: 6px;
      border: 2px solid #fffed5;
      box-shadow: 0 0 25px #ffb700, 0 6px 0 #8b5a00;
      transition: 0.07s;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin: 10px auto 0;
      width: fit-content;
    }

    .btn-flash:active {
      transform: translateY(6px);
      box-shadow: 0 0 35px #ffcc33, 0 2px 0 #6b4300;
    }

    .btn-flash:hover {
      background: radial-gradient(circle at 70% 30%, #ffe086, #f6c445);
      box-shadow: 0 0 45px #ffbb33, 0 6px 0 #8b5a00;
    }

    footer {
      margin-top: 30px;
      color: #9db9d0;
      text-align: center;
      font-size: 0.8rem;
      border-top: 1px dashed #f1c40f60;
      padding-top: 18px;
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 550px) {
      .glass-card { padding: 30px 18px; }
      .univ-name { font-size: clamp(2.8rem, 12vw, 4rem); }
      .progress-area { flex-direction: column; gap: 10px; }
      .btn-flash { font-size: 1.1rem; padding: 14px 30px; }
    }
  </style>
</head>
<body>
  <div class="glass-card">
    <h1>
      <span class="title-main">âš¡985Â·211âš¡</span>
      <span class="title-sub">è£è€€ä¸€é—ª Â· é¡¶å³°ç›¸è§</span>
    </h1>

    <!-- å¤§å­¦é—ªç°æ ¸å¿ƒèˆå° -->
    <div class="univ-stage">
      <div id="university" class="univ-name">ğŸ“ å‡†å¤‡é—ªå‡º ğŸ“</div>
    </div>

    <!-- è¿›åº¦ / æ ‡è¯† / è®¡æ•°å™¨ -->
    <div class="progress-area">
      <span class="badge-985">ğŸ”¥ 985</span>
      <span id="progress-text" class="progress-text">âœ¨ å¾…å¯åŠ¨ âœ¨</span>
      <span class="badge-211">âš¡ 211</span>
    </div>

    <!-- é‡ç½® / å†æ¬¡é—ªç° æŒ‰é’® -->
    <button id="resetBtn" class="btn-flash">
      <span>âœ¨ å†é—ªä¸€æ¬¡ âœ¨</span>
    </button>
    <footer>
      âš¡ é€ä¸€é—ªç° Â· å‹è½´å¿…æ˜¯åŒ—å¤§æˆ–æ¸…å âš¡
    </footer>
  </div>

  <script>
    (function() {
      "use strict";

      // ---------- ğŸŒŸ ä¸­å›½985Â·211 ç²¾è‹±åˆ—è¡¨ï¼ˆä¸å«æ¸…åŒ—ï¼Œç•™ä½œæœ€ç»ˆè£è€€ï¼‰ğŸŒŸ ----------
      const BASE_985_211 = [
        "å¤æ—¦å¤§å­¦", "ä¸Šæµ·äº¤é€šå¤§å­¦", "æµ™æ±Ÿå¤§å­¦", "ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦", "å—äº¬å¤§å­¦",
        "è¥¿å®‰äº¤é€šå¤§å­¦", "å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦", "æ­¦æ±‰å¤§å­¦", "åä¸­ç§‘æŠ€å¤§å­¦", "ä¸­å±±å¤§å­¦",
        "å››å·å¤§å­¦", "å—å¼€å¤§å­¦", "å¤©æ´¥å¤§å­¦", "å±±ä¸œå¤§å­¦", "ä¸œå—å¤§å­¦",
        "å‰æ—å¤§å­¦", "å¦é—¨å¤§å­¦", "åŒæµå¤§å­¦", "åŒ—äº¬å¸ˆèŒƒå¤§å­¦", "å›½é˜²ç§‘æŠ€å¤§å­¦",
        "ä¸­å›½äººæ°‘å¤§å­¦", "å…°å·å¤§å­¦", "è¥¿åŒ—å·¥ä¸šå¤§å­¦", "ä¸œåŒ—å¤§å­¦", "æ¹–å—å¤§å­¦",
        "åå—ç†å·¥å¤§å­¦", "ç”µå­ç§‘æŠ€å¤§å­¦", "é‡åº†å¤§å­¦", "å¤§è¿ç†å·¥å¤§å­¦", "ä¸­å¤®æ°‘æ—å¤§å­¦",
        "åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦", "åŒ—äº¬ç†å·¥å¤§å­¦", "ä¸­å›½å†œä¸šå¤§å­¦", "è¥¿åŒ—å†œæ—ç§‘æŠ€å¤§å­¦"
      ];  // å…¨éƒ¨ä¸º985/211é¡¶çº§é«˜æ ¡

      // æœ€ç»ˆè£è€€å€™é€‰â€”â€”åŒ—äº¬å¤§å­¦ æˆ– æ¸…åå¤§å­¦ ï¼ˆäºŒè€…éšæœºå…¶ä¸€ï¼‰
      const FINAL_TWO = ["åŒ—äº¬å¤§å­¦", "æ¸…åå¤§å­¦"];

      // ---------- å…¨å±€å˜é‡ ----------
      let flashInterval = null;         // è®¡æ—¶å™¨id
      let currentIndex = 0;           // å½“å‰é—ªåˆ°çš„ç´¢å¼•
      let flashArray = [];           // å½“å‰é—ªç°åºåˆ—

      // DOM å…ƒç´ 
      const univEl = document.getElementById('university');
      const progressEl = document.getElementById('progress-text');

      // ---------- è¾…åŠ©å‡½æ•° ----------

      /** ç»å…¸æ´—ç‰Œç®—æ³• (Fisherâ€“Yates) â€”â€” æ¯æ¬¡é—ªç°é¡ºåºéƒ½å……æ»¡æƒŠå–œ */
      function shuffleArray(arr) {
        const copy = arr.slice();     
        for (let i = copy.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [copy[i], copy[j]] = [copy[j], copy[i]];
        }
        return copy;
      }

      /** æ„å»ºæœ¬æ¬¡é—ªç°åˆ—è¡¨ï¼š 1.æ‰“ä¹±æ™®é€šé«˜æ ¡é¡ºåº 2.éšæœºæŠ½å–åŒ—å¤§æˆ–æ¸…åä½œä¸ºæœ€ç»ˆå‹è½´ */
      function buildFlashList() {
        const shuffledBase = shuffleArray(BASE_985_211);
        // éšæœºé€‰æ‹©æœ€ç»ˆè£è€€ï¼šåŒ—äº¬å¤§å­¦ æˆ–è€… æ¸…åå¤§å­¦
        const finalSchool = FINAL_TWO[Math.floor(Math.random() * FINAL_TWO.length)];
        // æ‹¼æ¥ï¼šæ‰€æœ‰æ™®é€šé«˜æ ¡ + å‹è½´åæ ¡
        return shuffledBase.concat(finalSchool);
      }

      /** æ ¸å¿ƒï¼šæ›´æ–°æ˜¾ç¤ºâ€”â€”å¤§å­¦åç§° + è§¦å‘é—ªå…‰åŠ¨ç”» + æœ€ç»ˆæ ·å¼ + è¿›åº¦ */
      function updateDisplay(index) {
        if (!flashArray || index >= flashArray.length) return;

        const univName = flashArray[index];
        const isFinal = (index === flashArray.length - 1);  // æœ€åä¸€ä¸ªå³å‹è½´æ¸…/åŒ—

        // 1. æ›´æ–°æ ¡å
        univEl.textContent = univName;

        // 2. ğŸ’¥ å¼ºåˆ¶é‡ç»˜ï¼Œè§¦å‘é—ªå…‰åŠ¨ç”»
        univEl.classList.remove('flash');
        void univEl.offsetWidth;      // é‡ç»˜
        univEl.classList.add('flash');

        // 3. æœ€ç»ˆè£è€€ä¸“å±æ ·å¼
        if (isFinal) {
          univEl.classList.add('final');
        } else {
          univEl.classList.remove('final');
        }

        // 4. æ›´æ–°è¿›åº¦æ˜¾ç¤º
        progressEl.textContent = `âš¡ é—ªç° ${index + 1} / ${flashArray.length} âš¡`;
      }

      /** å¯åŠ¨é—ªå…‰åºåˆ— â€”â€” æ›´å¿«é€Ÿåº¦ï¼š270ms/æ¬¡ï¼Œé—ªå…‰åŠ¨ç”»0.25s */
      function startFlash(list) {
        // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
        if (flashInterval) {
          clearInterval(flashInterval);
          flashInterval = null;
        }

        flashArray = list;
        currentIndex = 0;

        // é—ªç°ç¬¬ä¸€ä¸ªå¤§å­¦ï¼
        updateDisplay(currentIndex);

        // è®¾ç½®é«˜é€Ÿå®šæ—¶å™¨ï¼Œæ¯270msé—ªå‡ºä¸‹ä¸€ä¸ªï¼ˆç›¸æ¯”åŸ570msæé€Ÿè¶…è¿‡50%ï¼‰
        flashInterval = setInterval(() => {
          currentIndex++;

          if (currentIndex < flashArray.length) {
            updateDisplay(currentIndex);
          } else {
            // é—ªç°å®Œæ¯•ï¼šå®šæ ¼æœ€ç»ˆè£è€€
            clearInterval(flashInterval);
            flashInterval = null;
            progressEl.textContent = `ğŸ† è£è€€å®šæ ¼ Â· ${flashArray[flashArray.length - 1]} ğŸ†`;
          }
        }, 270); // æ›´å¿«èŠ‚å¥ï¼Œå¹²è„†åˆ©è½
      }

      /** é‡ç½®/é‡æ–°é—ªç° â€”â€” é‡æ–°éšæœºé¡ºåº & éšæœºæœ€ç»ˆæ¸…åŒ—/åŒ—å¤§ */
      function resetAndFlash() {
        if (flashInterval) {
          clearInterval(flashInterval);
          flashInterval = null;
        }
        const newList = buildFlashList();
        startFlash(newList);
      }

      // ---------- ç»‘å®šäº‹ä»¶ & é¡µé¢åˆå§‹åŒ– ----------
      window.addEventListener('DOMContentLoaded', () => {
        const initialList = buildFlashList();
        startFlash(initialList);

        const resetBtn = document.getElementById('resetBtn');
        resetBtn.addEventListener('click', function() {
          resetAndFlash();
        });
      });

      window.addEventListener('beforeunload', function() {
        if (flashInterval) {
          clearInterval(flashInterval);
          flashInterval = null;
        }
      });

    })();
  </script>
</body>
</html>
